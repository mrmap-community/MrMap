

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1. PostgreSQL &mdash; MrMap v0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Redis" href="2-redis.html" />
    <link rel="prev" title="Requirements" href="0-requirements.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MrMap
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="0-requirements.html">Requirements</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. PostgreSQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#debian">Debian</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#database-creation">Database Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verify-service-status">Verify Service Status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-redis.html">2. Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-mapserver.html">3. Mapserver</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-mrmap.html">4. MrMap Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-application-server.html">5. Application server</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-http-server.html">6. Nginx</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Mr Map Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../managers/index.html">Mr Map Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Mr Map Modules</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MrMap</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Installation</a> &raquo;</li>
        
      <li>1. PostgreSQL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/installation/1-postgresql.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="postgresql">
<span id="installation-1-postgresql"></span><h1>1. PostgreSQL<a class="headerlink" href="#postgresql" title="Permalink to this headline">¶</a></h1>
<p>This section entails the installation and configuration of a local PostgreSQL database.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that MySQL and other relational databases are currently <strong>not</strong> supported.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="debian">
<h3>Debian<a class="headerlink" href="#debian" title="Permalink to this headline">¶</a></h3>
<p>Install the PostgreSQL server and client development libraries using <code class="docutils literal notranslate"><span class="pre">apt</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>apt update
<span class="gp">$ </span>apt install -y postgresql postgresql-client postgis* postgresql-server-dev-11
</pre></div>
</div>
</div>
</div>
<div class="section" id="database-creation">
<h2>Database Creation<a class="headerlink" href="#database-creation" title="Permalink to this headline">¶</a></h2>
<p>At a minimum, we need to create a database for MrMap and assign it a username and password for authentication. This is done with the following commands.
We also add the postgis extension at this stage as this has to be done by the root user.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Do not use the password from the example.</strong> Choose a strong, random password to ensure secure database authentication for your MrMap installation.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>su postgres
<span class="gp">$ </span>psql
<span class="go">psql (11.10 (Debian 11.10-0+deb10u1))</span>
<span class="go">Type &quot;help&quot; for help.</span>

<span class="go">postgres=# CREATE DATABASE mrmap;</span>
<span class="go">CREATE DATABASE</span>
<span class="go">postgres=# CREATE USER mrmap WITH PASSWORD &#39;mrmap&#39;;</span>
<span class="go">CREATE ROLE</span>
<span class="go">postgres=# GRANT ALL PRIVILEGES ON DATABASE mrmap TO mrmap;</span>
<span class="go">GRANT</span>
<span class="go">postgres=# \c mrmap;</span>
<span class="go">You are now connected to database &quot;mrmap&quot; as user &quot;postgres&quot;.</span>
<span class="go">postgres=# CREATE EXTENSION postgis;</span>
<span class="go">CREATE EXTENSION</span>
<span class="go">postgres=# \q</span>
</pre></div>
</div>
</div>
<div class="section" id="verify-service-status">
<h2>Verify Service Status<a class="headerlink" href="#verify-service-status" title="Permalink to this headline">¶</a></h2>
<p>You can verify that authentication works issuing the following command and providing the configured password. (Replace <cite>localhost</cite> with your database server if using a remote database.)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>psql --username mrmap --password --host localhost mrmap
<span class="go">Password for user mrmap:</span>
<span class="go">psql (11.10 (Debian 11.10-0+deb10u1))</span>
<span class="go">SSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)</span>
<span class="go">Type &quot;help&quot; for help.</span>

<span class="go">mrmap=&gt; \conninfo</span>
<span class="go">You are connected to database &quot;mrmap&quot; as user &quot;mrmap&quot; on host &quot;localhost&quot; (address &quot;127.0.0.1&quot;) at port &quot;5432&quot;.</span>
<span class="go">SSL connection (protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: 256, compression: off)</span>
<span class="go">mrmap=&gt; \q</span>
</pre></div>
</div>
<p>If successful, you will enter a <code class="docutils literal notranslate"><span class="pre">mrmap</span></code> prompt. Type <code class="docutils literal notranslate"><span class="pre">\conninfo</span></code> to confirm your connection, or type <code class="docutils literal notranslate"><span class="pre">\q</span></code> to exit.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="2-redis.html" class="btn btn-neutral float-right" title="2. Redis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="0-requirements.html" class="btn btn-neutral float-left" title="Requirements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, mrmap-community.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>